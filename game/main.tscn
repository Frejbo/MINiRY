[gd_scene load_steps=14 format=3 uid="uid://dtod260wuix6b"]

[ext_resource type="PackedScene" uid="uid://dafa8xsis6sdx" path="res://map.gltf" id="1_6ujcp"]
[ext_resource type="Script" path="res://main.gd" id="1_fs8ov"]
[ext_resource type="PackedScene" uid="uid://bvd4770g2k43p" path="res://Player.tscn" id="1_g4fxp"]
[ext_resource type="PackedScene" uid="uid://dk4l6kutrl0yp" path="res://ui/time_left.tscn" id="2_bai4p"]
[ext_resource type="Environment" uid="uid://ctymbwu7imuu3" path="res://default_env.tres" id="2_w6ah1"]
[ext_resource type="Script" path="res://map.gd" id="5_aaccr"]
[ext_resource type="PackedScene" uid="uid://c6h7wdbxlat84" path="res://spak/spak.tscn" id="6_ppcem"]
[ext_resource type="PackedScene" uid="uid://dqaeyvbfcfp2e" path="res://conveyor/conveyorbelt.tscn" id="8_873qt"]

[sub_resource type="Animation" id="Animation_c786d"]
resource_name = "Lucka"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8, 1.2, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(-8.5898, 3.01899, 10.8747), Vector3(-8.6, 1.8, 10.9), Vector3(-8.6, 1.8, 10.9), Vector3(-8.5898, 3.01899, 10.8747)]
}

[sub_resource type="Animation" id="Animation_7pgte"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-8.5898, 3.01899, 10.8747)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mvelk"]
_data = {
"Lucka": SubResource("Animation_c786d"),
"RESET": SubResource("Animation_7pgte")
}

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_kjvvp"]
data = PackedVector3Array(-10.1155, -0.1155, 10.1155, 10.1155, -0.1155, -10.1155, -10.1155, -0.1155, -10.1155, -10.1155, -0.1155, 10.1155, 10.1155, -0.1155, 10.1155, 10.1155, -0.1155, -10.1155, 10.0894, 4, 10.1789, 10.1809, 0.4397, 4.0603, 10.1155, -0.1155, 10.1155, 10.0894, 4, 10.1789, 10.1809, 2.5603, 4.0603, 10.1809, 0.4397, 4.0603, 10.1809, 0.4397, 1.9397, 10.1809, 2.5464, -1.9953, 10.1809, 0.4257, -1.9952, 10.1809, 0.4397, 1.9397, 10.1809, 2.5604, 1.9396, 10.1809, 2.5464, -1.9953, 10.1809, 0.4397, 4.0603, 10.1155, -0.1155, -10.1155, 10.1155, -0.1155, 10.1155, 10.1155, -0.1155, -10.1155, 10.1809, 0.4257, -1.9952, 10.1809, 0.4258, -4.1159, 10.1809, 0.4257, -1.9952, 10.1809, 0.4397, 4.0603, 10.1809, 0.4397, 1.9397, 10.1155, -0.1155, -10.1155, 10.1809, 0.4397, 4.0603, 10.1809, 0.4257, -1.9952, -10.1155, -0.1155, -10.1155, -10.0894, 4, 10.1789, -10.1155, -0.1155, 10.1155, -10.1155, -0.1155, -10.1155, -10.1414, 4, -10.1414, -10.0894, 4, 10.1789, 10.1155, -0.1155, -10.1155, -10.1414, 4, -10.1414, -10.1155, -0.1155, -10.1155, 10.1155, -0.1155, -10.1155, 10.1414, 4, -10.1414, -10.1414, 4, -10.1414, -6.8845, 0.3845, 10.1155, -10.1155, -0.1155, 10.1155, -9.0603, 0.4397, 10.1809, 10.1155, -0.1155, 10.1155, -10.0894, 4, 10.1789, 10.0894, 4, 10.1789, -10.0894, 4, 10.1789, -6.8845, 2.6155, 10.1155, -9.0603, 2.5603, 10.1809, -6.8845, 0.3845, 10.1155, 10.1155, -0.1155, 10.1155, -10.1155, -0.1155, 10.1155, 10.1155, -0.1155, 10.1155, -6.8845, 2.6155, 10.1155, -10.0894, 4, 10.1789, 10.1155, -0.1155, 10.1155, -6.8845, 0.3845, 10.1155, -6.8845, 2.6155, 10.1155, -10.0894, 4, 10.1789, -9.0603, 0.4397, 10.1809, -10.1155, -0.1155, 10.1155, -10.0894, 4, 10.1789, -9.0603, 2.5603, 10.1809, -9.0603, 0.4397, 10.1809, -10.0894, 4, 10.1789, 10, 13, 10.2, 10.0894, 4, 10.1789, -10.0894, 4, 10.1789, -10, 13, 10.2, 10, 13, 10.2, 10.1809, 2.5604, 1.9396, 10.6155, 0.3845, 1.8845, 10.6155, 2.6155, 1.8845, 10.1809, 2.5604, 1.9396, 10.1809, 0.4397, 1.9397, 10.6155, 0.3845, 1.8845, 10.6155, 0.3845, 1.8845, 10.6155, 2.6155, 4.1155, 10.6155, 2.6155, 1.8845, 10.6155, 0.3845, 1.8845, 10.6155, 0.3845, 4.1155, 10.6155, 2.6155, 4.1155, 10.6155, 0.3845, 4.1155, 10.1809, 2.5603, 4.0603, 10.6155, 2.6155, 4.1155, 10.6155, 0.3845, 4.1155, 10.1809, 0.4397, 4.0603, 10.1809, 2.5603, 4.0603, 10.6155, 0.3845, 1.8845, 10.1809, 0.4397, 4.0603, 10.6155, 0.3845, 4.1155, 10.6155, 0.3845, 1.8845, 10.1809, 0.4397, 1.9397, 10.1809, 0.4397, 4.0603, 10.6155, 2.6155, 4.1155, 10.1809, 2.5604, 1.9396, 10.6155, 2.6155, 1.8845, 10.6155, 2.6155, 4.1155, 10.1809, 2.5603, 4.0603, 10.1809, 2.5604, 1.9396, 10.1809, 2.5464, -4.1159, 10.6155, 0.3706, -4.171, 10.6155, 2.6016, -4.171, 10.1809, 2.5464, -4.1159, 10.1809, 0.4258, -4.1159, 10.6155, 0.3706, -4.171, 10.6155, 0.3706, -4.171, 10.6155, 2.6016, -1.9401, 10.6155, 2.6016, -4.171, 10.6155, 0.3706, -4.171, 10.6155, 0.3706, -1.9401, 10.6155, 2.6016, -1.9401, 10.6155, 0.3706, -1.9401, 10.1809, 2.5464, -1.9953, 10.6155, 2.6016, -1.9401, 10.6155, 0.3706, -1.9401, 10.1809, 0.4257, -1.9952, 10.1809, 2.5464, -1.9953, 10.6155, 0.3706, -4.171, 10.1809, 0.4257, -1.9952, 10.6155, 0.3706, -1.9401, 10.6155, 0.3706, -4.171, 10.1809, 0.4258, -4.1159, 10.1809, 0.4257, -1.9952, 10.6155, 2.6016, -1.9401, 10.1809, 2.5464, -4.1159, 10.6155, 2.6016, -4.171, 10.6155, 2.6016, -1.9401, 10.1809, 2.5464, -1.9953, 10.1809, 2.5464, -4.1159, -9.1155, 0.3845, 10.6155, -9.0603, 2.5603, 10.1809, -9.1155, 2.6155, 10.6155, -9.1155, 0.3845, 10.6155, -9.0603, 0.4397, 10.1809, -9.0603, 2.5603, 10.1809, -6.8845, 2.6155, 10.6155, -6.8845, 0.3845, 10.1155, -6.8845, 0.3845, 10.6155, -6.8845, 2.6155, 10.6155, -6.8845, 2.6155, 10.1155, -6.8845, 0.3845, 10.1155, -6.8845, 0.3845, 10.6155, -9.1155, 2.6155, 10.6155, -6.8845, 2.6155, 10.6155, -6.8845, 0.3845, 10.6155, -9.1155, 0.3845, 10.6155, -9.1155, 2.6155, 10.6155, -6.8845, 0.3845, 10.6155, -9.0603, 0.4397, 10.1809, -9.1155, 0.3845, 10.6155, -6.8845, 0.3845, 10.6155, -6.8845, 0.3845, 10.1155, -9.0603, 0.4397, 10.1809, -9.0603, 2.5603, 10.1809, -6.8845, 2.6155, 10.6155, -9.1155, 2.6155, 10.6155, -9.0603, 2.5603, 10.1809, -6.8845, 2.6155, 10.1155, -6.8845, 2.6155, 10.6155, 10.1155, -0.1155, -10.1155, 10.1809, 2.5464, -4.1159, 10.1414, 4, -10.1414, 10.1155, -0.1155, -10.1155, 10.1809, 0.4258, -4.1159, 10.1809, 2.5464, -4.1159, 10.1414, 4, -10.1414, 10.1809, 2.5603, 4.0603, 10.0894, 4, 10.1789, 10.1809, 2.5604, 1.9396, 10.1809, 2.5464, -4.1159, 10.1809, 2.5464, -1.9953, 10.1414, 4, -10.1414, 10.1809, 2.5604, 1.9396, 10.1809, 2.5603, 4.0603, 10.1809, 2.5604, 1.9396, 10.1414, 4, -10.1414, 10.1809, 2.5464, -4.1159, -10, 0, 10, 10, 0, -10, 10, 0, 10, -10, 0, 10, -10, 0, -10, 10, 0, -10, 10, 4, 10, 10, 0.5, 4, 10, 2.5, 4, 10, 4, 10, 10, 0, 10, 10, 0.5, 4, 10, 0.5, 2, 10, 2.4861, -2.0556, 10, 2.5, 2, 10, 0.5, 2, 10, 0.4861, -2.0556, 10, 2.4861, -2.0556, 10, 0, -10, 10, 0.5, 4, 10, 0, 10, 10, 0.5, 4, 10, 0.4861, -2.0556, 10, 0.5, 2, 10, 0.4861, -2.0556, 10, 0, -10, 10, 0.4861, -4.0556, 10, 0.5, 4, 10, 0, -10, 10, 0.4861, -2.0556, -10, 0, -10, -10, 4, 10, -10, 4, -10, -10, 0, -10, -10, 0, 10, -10, 4, 10, 10, 0, -10, -10, 4, -10, 10, 4, -10, 10, 0, -10, -10, 0, -10, -10, 4, -10, -10, 0, 10, -7, 0.5, 10, -9, 0.5, 10, -7, 2.5, 10, -10, 4, 10, -9, 2.5, 10, 10, 0, 10, -7, 0.5, 10, -10, 0, 10, -7, 2.5, 10, 10, 4, 10, -10, 4, 10, 10, 0, 10, -7, 2.5, 10, -7, 0.5, 10, -7, 2.5, 10, 10, 0, 10, 10, 4, 10, -10, 4, 10, -9, 0.5, 10, -9, 2.5, 10, -10, 4, 10, -10, 0, 10, -9, 0.5, 10, -10, 4, 10, 10, 13, 10, -10, 13, 10, -10, 4, 10, 10, 4, 10, 10, 13, 10, 10, 2.5, 2, 10.5, 0.5, 2, 10, 0.5, 2, 10, 2.5, 2, 10.5, 2.5, 2, 10.5, 0.5, 2, 10.5, 0.5, 2, 10.5, 2.5, 4, 10.5, 0.5, 4, 10.5, 0.5, 2, 10.5, 2.5, 2, 10.5, 2.5, 4, 10.5, 0.5, 4, 10, 2.5, 4, 10, 0.5, 4, 10.5, 0.5, 4, 10.5, 2.5, 4, 10, 2.5, 4, 10.5, 0.5, 2, 10, 0.5, 4, 10, 0.5, 2, 10.5, 0.5, 2, 10.5, 0.5, 4, 10, 0.5, 4, 10.5, 2.5, 4, 10, 2.5, 2, 10, 2.5, 4, 10.5, 2.5, 4, 10.5, 2.5, 2, 10, 2.5, 2, 10, 2.4861, -4.0556, 10.5, 0.4861, -4.0556, 10, 0.4861, -4.0556, 10, 2.4861, -4.0556, 10.5, 2.4861, -4.0556, 10.5, 0.4861, -4.0556, 10.5, 0.4861, -4.0556, 10.5, 2.4861, -2.0556, 10.5, 0.4861, -2.0556, 10.5, 0.4861, -4.0556, 10.5, 2.4861, -4.0556, 10.5, 2.4861, -2.0556, 10.5, 0.4861, -2.0556, 10, 2.4861, -2.0556, 10, 0.4861, -2.0556, 10.5, 0.4861, -2.0556, 10.5, 2.4861, -2.0556, 10, 2.4861, -2.0556, 10.5, 0.4861, -4.0556, 10, 0.4861, -2.0556, 10, 0.4861, -4.0556, 10.5, 0.4861, -4.0556, 10.5, 0.4861, -2.0556, 10, 0.4861, -2.0556, 10.5, 2.4861, -2.0556, 10, 2.4861, -4.0556, 10, 2.4861, -2.0556, 10.5, 2.4861, -2.0556, 10.5, 2.4861, -4.0556, 10, 2.4861, -4.0556, -9, 0.5, 10.5, -9, 2.5, 10, -9, 0.5, 10, -9, 0.5, 10.5, -9, 2.5, 10.5, -9, 2.5, 10, -7, 2.5, 10.5, -7, 0.5, 10, -7, 2.5, 10, -7, 2.5, 10.5, -7, 0.5, 10.5, -7, 0.5, 10, -7, 0.5, 10.5, -9, 2.5, 10.5, -9, 0.5, 10.5, -7, 0.5, 10.5, -7, 2.5, 10.5, -9, 2.5, 10.5, -7, 0.5, 10.5, -9, 0.5, 10, -7, 0.5, 10, -7, 0.5, 10.5, -9, 0.5, 10.5, -9, 0.5, 10, -9, 2.5, 10, -7, 2.5, 10.5, -7, 2.5, 10, -9, 2.5, 10, -9, 2.5, 10.5, -7, 2.5, 10.5, 10, 0, -10, 10, 2.4861, -4.0556, 10, 0.4861, -4.0556, 10, 0, -10, 10, 4, -10, 10, 2.4861, -4.0556, 10, 2.5, 4, 10, 4, -10, 10, 4, 10, 10, 4, -10, 10, 2.4861, -2.0556, 10, 2.4861, -4.0556, 10, 2.5, 2, 10, 4, -10, 10, 2.5, 4, 10, 4, -10, 10, 2.5, 2, 10, 2.4861, -2.0556, -10.1414, 4, -10.1414, -10, 4, 10, -10.0894, 4, 10.1789, -10.1414, 4, -10.1414, -10, 4, -10, -10, 4, 10, -10, 13, 10.2, 10, 13, 10, 10, 13, 10.2, -10, 13, 10.2, -10, 13, 10, 10, 13, 10, -10.0894, 4, 10.1789, -10, 13, 10, -10, 13, 10.2, -10.0894, 4, 10.1789, -10, 4, 10, -10, 13, 10, 10, 13, 10.2, 10, 4, 10, 10.0894, 4, 10.1789, 10, 13, 10.2, 10, 13, 10, 10, 4, 10, 10.0894, 4, 10.1789, 10, 4, -10, 10.1414, 4, -10.1414, 10.0894, 4, 10.1789, 10, 4, 10, 10, 4, -10, 10.1414, 4, -10.1414, -10, 4, -10, -10.1414, 4, -10.1414, 10.1414, 4, -10.1414, 10, 4, -10, -10, 4, -10)

[sub_resource type="BoxShape3D" id="BoxShape3D_445ub"]
size = Vector3(2.44447, 1.18469, 2.94076)

[node name="main" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.5898, 3.01899, 10.8747)
script = ExtResource("1_fs8ov")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_mvelk")
}

[node name="time_left" parent="." instance=ExtResource("2_bai4p")]
canvas_item_default_texture_filter = 0

[node name="Player" parent="." instance=ExtResource("1_g4fxp")]
transform = Transform3D(-0.622501, 0, -0.782619, 0, 1, 0, 0.782619, 0, -0.622501, 0, 1.48498, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_w6ah1")

[node name="map" parent="." instance=ExtResource("1_6ujcp")]
script = ExtResource("5_aaccr")

[node name="StaticBody3D" type="StaticBody3D" parent="map/Bas" index="0"]
collision_layer = 17
collision_mask = 17

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/Bas/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_kjvvp")

[node name="item_output_area" type="Area3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.59049, 1.61811, 11.4813)

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/item_output_area"]
shape = SubResource("BoxShape3D_445ub")

[node name="Screen" type="Node3D" parent="map"]

[node name="Sprite3D" type="Sprite3D" parent="map/Screen"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.413, 9.99)
flip_h = true

[node name="time_left" type="Sprite3D" parent="map/Screen"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.182, 2.56696, 9.99)
flip_h = true

[node name="IronSpak" parent="map" instance=ExtResource("6_ppcem")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 10.0088, 2, 1.2266)

[node name="CopperSpak" parent="map" instance=ExtResource("6_ppcem")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 10.0088, 2, -5.00589)

[node name="input1" type="Marker3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.83557, 0.90872, 0)

[node name="input0" type="Marker3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.83745, 1.91218, 3)

[node name="item_spawn_timer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[node name="static conveyor in-output" type="Node3D" parent="."]

[node name="conveyorbelt" parent="." instance=ExtResource("8_873qt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0, 3)

[node name="buildings" type="Node" parent="."]

[connection signal="body_entered" from="map/item_output_area" to="map" method="_on_item_output_area_body_entered"]
[connection signal="timeout" from="item_spawn_timer" to="map" method="_on_item_spawn_timer_timeout"]

[editable path="map"]
